# Canton OmniChain SDK — пример конфигурации для production.
# Скопировать в config/local.yaml и подставить свои значения (config/local.yaml в .gitignore).
# DevNet vs production: docs/DEVNET_PARTICIPANT.md.

# Ledger API participant (production: свой хост, порт, TLS)
ledger_api:
  grpc_host: "participant.your-domain.com"
  grpc_port: 5001
  http_url: "https://participant.your-domain.com/ledger"   # опционально
  tls: true
  tls_certs:
    ca_cert_path: "/etc/ssl/canton/ca.pem"
    client_cert_path: "/etc/ssl/canton/client.pem"
    client_key_path: "/etc/ssl/canton/client.key"
  connect_timeout: "10s"
  request_timeout: "30s"

canton:
  endpoint: "https://canton.your-domain.com:6865"
  tls:
    ca_cert_path: "/etc/ssl/certs/ca.pem"
    client_cert_path: "/etc/ssl/certs/client.pem"
    client_key_path: "/etc/ssl/private/client.key"
  connect_timeout: "10s"
  request_timeout: "30s"
  keep_alive_interval: "30s"
  max_concurrent_requests: 100

reliability:
  circuit_breaker:
    failure_threshold: 5
    success_threshold: 3
    reset_timeout: "30s"
  rate_limiter:
    max_requests: 100
    window: "1s"
    strategy: "token_bucket"
  retry:
    max_attempts: 3
    initial_delay: "100ms"
    max_delay: "10s"
    multiplier: 2.0

observability:
  logging:
    level: "info"
    format: "json"
  metrics:
    endpoint: "http://otel-collector:4317"
    export_interval: "10s"
  tracing:
    endpoint: "http://otel-collector:4317"
    sample_rate: 0.1

omnichain:
  enabled_chains:
    - ethereum
    - cosmos
  chains:
    ethereum:
      rpc_url: "https://eth.your-domain.com"
      chain_id: 1
    cosmos:
      rpc_url: "https://cosmos.your-domain.com"
      chain_id: "cosmoshub-4"
